(this["webpackJsonpcis4914-project"]=this["webpackJsonpcis4914-project"]||[]).push([[0],{302:function(e,t,a){e.exports=a(514)},309:function(e,t,a){},434:function(e,t,a){var n={"./ca-ES.json":435,"./de-DE.json":436,"./en-US.json":247,"./es-ES.json":437,"./fi-FI.json":438,"./fr-FR.json":439,"./he-IL.json":440,"./it-IT.json":441,"./ja-JP.json":442,"./no-NB.json":443,"./pl-PL.json":444,"./pt-BR.json":445,"./ru-RU.json":446,"./sv-SE.json":447,"./tr-TR.json":448,"./zh-CN.json":449};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=434},509:function(e,t){},510:function(e,t){},511:function(e,t){},514:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(88),s=a.n(l);a(307),a(308),a(309),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(22),o=a(23),i=a(24),u=a(25),m=a(26),d=a(41),p=a(81),h=r.a.createContext(null),E=function(e){return function(t){return r.a.createElement(h.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},f=h,v=a(7),g=a.n(v),b=a(70),w=a.n(b),C=(a(314),a(316),a(515),a(206),{apiKey:"AIzaSyCz5H3RlwJowAPSAXi9Lvcc2oyPmLBeuIg",authDomain:"cis4914-40936.firebaseapp.com",databaseURL:"https://cis4914-40936.firebaseio.com",projectId:"cis4914-40936",storageBucket:"cis4914-40936.appspot.com",messagingSenderId:"178831665685",appId:"1:178831665685:web:3ba1a1b03cdd45c57afc1c",measurementId:"G-FYCFPK2QDN"}),x=function(){function e(){var t=this;Object(c.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.doDeleteUser=function(){var e=t.auth.currentUser;console.log(e),t.auth.signOut(),e.delete().then((function(){console.log("User deleted.")})).catch((function(e){console.log("Error deleting user.")}))},this.getElementsInPath=function(e){var a,n,r,l,s=arguments;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:null,n=[],r=t.db.ref(e),c.next=5,g.a.awrap(r.once("value"));case 5:return l=c.sent,null!=a?l.forEach((function(e){a.includes(e.key)&&n.push({uid:e.key,value:e.val()})})):l.forEach((function(e){n.push({uid:e.key,value:e.val()})})),c.abrupt("return",n);case 8:case"end":return c.stop()}}))},this.getAllUsersDescriptions=function(e){var a,n,r,l,s,c;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a="organizations/"+e+"/users/",o.next=3,g.a.awrap(t.getElementsInPath(a));case 3:n=o.sent,r=[],l=0;case 6:if(!(l<n.length)){o.next=20;break}return s=n[l],o.t0=s.uid,o.next=11,g.a.awrap(t.getUserInformation(e,s.uid));case 11:return o.t1=o.sent,o.next=14,g.a.awrap(t.getDescriptors(e,s.uid));case 14:o.t2=o.sent,c={userID:o.t0,userInfo:o.t1,descriptors:o.t2},r.push(c);case 17:l++,o.next=6;break;case 20:return o.abrupt("return",r);case 21:case"end":return o.stop()}}))},this.addUser=function(e,a,n,r,l,s,c,o){var i;return g.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return i="organizations/"+e+"/users/"+a+"/",u.next=3,g.a.awrap(t.checkIfUserExist(e,a));case 3:if(!u.sent){u.next=7;break}return u.abrupt("return",!1);case 7:return u.next=9,g.a.awrap(t.setUserDatabaseInformation(i,n,r,l,s,c,o));case 9:return u.abrupt("return",!0);case 10:case"end":return u.stop()}}))},this.updateUser=function(e,a,n,r,l,s,c,o){var i;return g.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return i="organizations/"+e+"/users/"+a+"/",u.next=3,g.a.awrap(t.setUserDatabaseInformation(i,n,r,l,s,c,o));case 3:return u.abrupt("return",!0);case 4:case"end":return u.stop()}}))},this.setUserDatabaseInformation=function(e,a,n,r,l,s,c){return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,g.a.awrap(t.db.ref(e+"age").set(c));case 2:return o.next=4,g.a.awrap(t.db.ref(e+"email").set(r));case 4:return o.next=6,g.a.awrap(t.db.ref(e+"firstName").set(a));case 6:return o.next=8,g.a.awrap(t.db.ref(e+"lastName").set(n));case 8:return o.next=10,g.a.awrap(t.db.ref(e+"level").set(l));case 10:return o.next=12,g.a.awrap(t.db.ref(e+"sex").set(s));case 12:case"end":return o.stop()}}))},this.getUserInformation=function(e,a){var n,r,l,s;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n="organizations/"+e+"/users/"+a+"/",r={email:"",firstName:"",lastName:"",age:0,level:0,sex:""},l=["email","firstName","lastName","age","level","sex"],c.next=5,g.a.awrap(t.getElementsInPath(n,l));case 5:if(null!=(s=c.sent)&&0!=s.length){c.next=8;break}return c.abrupt("return",null);case 8:return r.age=s[0].value,r.email=s[1].value,r.firstName=s[2].value,r.lastName=s[3].value,r.level=s[4].value,r.sex=s[5].value,c.abrupt("return",r);case 15:case"end":return c.stop()}}))},this.markUserAttendance=function(e,a,n){var r,l,s,c,o;return g.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return r="organizations/"+e+"/events/"+a+"/usersAttended/",i.next=3,g.a.awrap(t.getElementsInPath(r));case 3:l=i.sent,s=null,c=0;case 6:if(!(c<l.length)){i.next=14;break}if((o=l[c]).uid!==n){i.next=11;break}return s=o.value,i.abrupt("break",14);case 11:c++,i.next=6;break;case 14:if(null==s){i.next=18;break}return i.abrupt("return",s);case 18:t.db.ref(r+n).set(Date.now());case 19:case"end":return i.stop()}}))},this.deleteUser=function(e,a){var n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:n="organizations/"+e+"/users/"+a+"/",t.db.ref(n).remove();case 2:case"end":return r.stop()}}))},this.getUsersPreview=function(e){var a,n,r,l,s;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=[],n="organizations/"+e+"/users/",c.next=4,g.a.awrap(t.getElementsInPath(n));case 4:for(r=c.sent,l=0;l<r.length;l++)(s={firstName:"",lastName:"",level:"",email:"",userID:"",age:"",sex:""}).firstName=r[l].value.firstName,s.lastName=r[l].value.lastName,s.level=r[l].value.level,s.email=r[l].value.email,s.userID=r[l].uid,s.age=r[l].value.age,s.sex=r[l].value.sex,a.push(s);return c.abrupt("return",a);case 7:case"end":return c.stop()}}))},this.deleteUsersDescriptors=function(e,a){var n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:n="organizations/"+e+"/users/"+a+"/descriptors/",t.db.ref(n).remove();case 2:case"end":return r.stop()}}))},this.getDescriptorsAVG=function(e){var t,a,n,r;return g.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:for(t=[],a=0;a<e[0].length;a++){for(n=0,r=0;r<e.length;r++)n+=e[r][a];n/=e.length,t.push(n)}return l.abrupt("return",t);case 3:case"end":return l.stop()}}))},this.getDescriptors=function(e,a){var n,r,l,s,c;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n="organizations/"+e+"/users/"+a+"/descriptors/",o.next=3,g.a.awrap(t.getElementsInPath(n));case 3:for(r=o.sent,l=[],s=0;s<r.length;s++)c=r[s],l.push(c.value.value);if(0!==l.length){o.next=8;break}return o.abrupt("return",l);case 8:return o.t0=Float32Array,o.next=11,g.a.awrap(t.getDescriptorsAVG(l));case 11:return o.t1=o.sent,o.t2=o.t0.from.call(o.t0,o.t1),l=[o.t2],o.abrupt("return",l);case 15:case"end":return o.stop()}}))},this.insertDescriptor=function(e,a,n){t.db.ref("organizations/"+e+"/users/"+a+"/descriptors/").push({date:Date.now(),value:n})},this.checkIfUserExist=function(e,a){var n,r,l,s;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n="organizations/"+e+"/users/",c.next=3,g.a.awrap(t.getElementsInPath(n));case 3:r=c.sent,l=!1,s=0;case 6:if(!(s<r.length)){c.next=13;break}if(r[s].uid!==a){c.next=10;break}return l=!0,c.abrupt("break",13);case 10:s++,c.next=6;break;case 13:return c.abrupt("return",l);case 14:case"end":return c.stop()}}))},this.getUserAttendaceReport=function(e,a){var n,r;return g.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n="organizations/"+e+"/events/"+a+"/usersAttended/",l.next=3,g.a.awrap(t.getElementsInPath(n));case 3:return r=l.sent,l.abrupt("return",r);case 5:case"end":return l.stop()}}))},this.addEvent=function(e,a,n,r,l,s,c,o,i){var u;return g.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return u="organizations/"+e+"/events/"+a+"/",m.next=3,g.a.awrap(t.checkIfEventExist(e,a));case 3:if(!m.sent){m.next=7;break}return m.abrupt("return",!1);case 7:return m.next=9,g.a.awrap(t.setEventDatabaseInformation(u,n,r,l,s,c,o,i));case 9:return m.abrupt("return",!0);case 10:case"end":return m.stop()}}))},this.updateEvent=function(e,a,n,r,l,s,c,o,i){var u;return g.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return u="organizations/"+e+"/events/"+a+"/",m.next=3,g.a.awrap(t.setEventDatabaseInformation(u,n,r,l,s,c,o,i));case 3:return m.abrupt("return",!0);case 4:case"end":return m.stop()}}))},this.setEventDatabaseInformation=function(e,a,n,r,l,s,c,o){return g.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,g.a.awrap(t.db.ref(e+"name").set(a));case 2:return i.next=4,g.a.awrap(t.db.ref(e+"minimumLevel").set(n));case 4:return i.next=6,g.a.awrap(t.db.ref(e+"allowedUsers").set(r));case 6:return i.next=8,g.a.awrap(t.db.ref(e+"notAllowedUsers").set(l));case 8:return i.next=10,g.a.awrap(t.db.ref(e+"description").set(s));case 10:return i.next=12,g.a.awrap(t.db.ref(e+"eventDate").set(c));case 12:return i.next=14,g.a.awrap(t.db.ref(e+"passcode").set(o));case 14:return i.next=16,g.a.awrap(t.db.ref(e+"active").set(!1));case 16:case"end":return i.stop()}}))},this.loginIntoEvent=function(e,a,n){var r,l,s,c;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r="organizations/"+e+"/events/",o.next=3,g.a.awrap(t.getElementsInPath(r));case 3:l=o.sent,s=!1,c=0;case 6:if(!(c<l.length)){o.next=13;break}if(l[c].uid!==a){o.next=10;break}return s=l[c].value.passcode===n&&!0===l[c].value.active,o.abrupt("break",13);case 10:c++,o.next=6;break;case 13:return o.abrupt("return",s);case 14:case"end":return o.stop()}}))},this.getEventInformation=function(e,a){var n,r,l,s;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n="organizations/"+e+"/events/"+a+"/",r={allowedUsers:"",minimumLevel:"",notAllowedUsers:""},l=["allowedUsers","minimumLevel","notAllowedUsers"],c.next=5,g.a.awrap(t.getElementsInPath(n,l));case 5:return s=c.sent,r.allowedUsers=s[0].value,r.minimumLevel=s[1].value,r.notAllowedUsers=s[2].value,c.abrupt("return",r);case 10:case"end":return c.stop()}}))},this.deleteEvent=function(e,a){var n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:n="organizations/"+e+"/events/"+a+"/",t.db.ref(n).remove();case 2:case"end":return r.stop()}}))},this.activateEvent=function(e,a){var n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:n="organizations/"+e+"/events/"+a+"/active/",t.db.ref(n).set(!0);case 2:case"end":return r.stop()}}))},this.stopEvent=function(e,a){var n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:n="organizations/"+e+"/events/"+a+"/active/",t.db.ref(n).set(!1);case 2:case"end":return r.stop()}}))},this.getEventsPreview=function(e){var a,n,r,l,s;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=[],n="organizations/"+e+"/events/",c.next=4,g.a.awrap(t.getElementsInPath(n));case 4:for(r=c.sent,l=0;l<r.length;l++)(s={active:"",eventDate:"",minimumLevel:"",name:"",eventID:"",description:""}).active=r[l].value.active,s.eventDate=r[l].value.eventDate,s.minimumLevel=r[l].value.minimumLevel,s.name=r[l].value.name,s.eventID=r[l].uid,s.description=r[l].value.description,s.allowedUsers=r[l].value.allowedUsers,s.notAllowedUsers=r[l].value.notAllowedUsers,s.passcode=r[l].value.passcode,a.push(s);return c.abrupt("return",a);case 7:case"end":return c.stop()}}))},this.checkIfEventExist=function(e,a){var n,r,l,s;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n="organizations/"+e+"/events/",c.next=3,g.a.awrap(t.getElementsInPath(n));case 3:r=c.sent,l=!1,s=0;case 6:if(!(s<r.length)){c.next=13;break}if(r[s].uid!==a){c.next=10;break}return l=!0,c.abrupt("break",13);case 10:s++,c.next=6;break;case 13:return c.abrupt("return",l);case 14:case"end":return c.stop()}}))},this.getOrganization=function(){var e,a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.auth.currentUser.uid,n.next=3,g.a.awrap(t.getElementsInPath("users/",e));case 3:if(null==(a=n.sent)){n.next=8;break}return n.abrupt("return",a[0].value.companyName);case 8:return n.abrupt("return",null);case 9:case"end":return n.stop()}}))},this.getOrganizationInformation=function(){var e,a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.auth.currentUser.uid,n.next=3,g.a.awrap(t.getElementsInPath("users/",e));case 3:if(null==(a=n.sent)){n.next=8;break}return n.abrupt("return",a[0].value);case 8:return n.abrupt("return",null);case 9:case"end":return n.stop()}}))},this.deleteOrganizationData=function(e){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:a="organizations/"+e+"/",t.db.ref(a).remove();case 2:case"end":return n.stop()}}))},this.changeOrganizationPasscode=function(e,a){return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(t.db.ref("organizations/"+e+"/passcode").set(a));case 2:case"end":return n.stop()}}))},this.verifyOrganizationPasscode=function(e,a){var n,r;return g.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n="organizations/"+e+"/",l.next=3,g.a.awrap(t.getElementsInPath(n));case 3:if(null!=(r=l.sent)&&0!==r.length){l.next=6;break}return l.abrupt("return",0);case 6:if(r[0].value!=a){l.next=10;break}return l.abrupt("return",1);case 10:return l.abrupt("return",-1);case 11:case"end":return l.stop()}}))},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},w.a.initializeApp(C),this.auth=w.a.auth(),this.db=w.a.database()}return Object(o.a)(e,[{key:"getImages",value:function(e,t){var a=[];return w.a.storage().ref().child("images/"+e+"/"+t+"/").listAll().then((function(e){e.items.forEach((function(e){a.push(e.getDownloadURL())}))})).catch((function(e){console.log("Unable to load image set")})),a}},{key:"uploadImage",value:function(e,t,a){var n=w.a.storage().ref(),r=a,l=Date.now()+".jpeg",s=n.child("images/"+e+"/"+t+"/"+l).put(r,{contentType:"image/jpeg"});s.on(w.a.storage.TaskEvent.STATE_CHANGED,(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case w.a.storage.TaskState.PAUSED:console.log("Upload is paused");break;case w.a.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){switch(e.code){case"storage/unauthorized":console.log("Error uploading: unauthorized ");break;case"storage/canceled":console.log("Error uploading: canceled ");break;case"storage/unknown":console.log("Error uploading: unknown")}}),(function(){s.snapshot.ref.getDownloadURL().then((function(e){console.log("File available at",e)}))}))}}]),e}(),y=E((function(e){var t=e.firebase;return r.a.createElement("span",{onClick:t.doSignOut},"Sign Out")})),k="/home",I=r.a.createContext(null),O=a(87),U=function(e){return function(t){var a=function(a){function n(){return Object(c.a)(this,n),Object(i.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,a),Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(a){e(a)||t.props.history.push("/signin")}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(I.Consumer,null,(function(n){return e(n)?r.a.createElement(t,a.props):null}))}}]),n}(r.a.Component);return Object(O.a)(p.f,E)(a)}},N=a(534),z=a(530),S=a(89),j=function(e){var t=e.user;return r.a.createElement(N.a,{inverted:!0,borderless:!0,fluid:!0},r.a.createElement(N.a.Menu,{position:"left"},r.a.createElement(N.a.Item,{as:d.b,to:k,icon:"home"})),r.a.createElement(N.a.Menu,{position:"right"},r.a.createElement(z.a,{text:t.email,item:!0,floating:!0,pointing:!0},r.a.createElement(z.a.Menu,null,r.a.createElement(z.a.Item,{as:d.b,to:"/account"},"Profile"),r.a.createElement(z.a.Item,{as:d.b,to:k},"Event Panel"),r.a.createElement(z.a.Item,{as:d.b,to:"/userpanel"},"User Panel"),r.a.createElement(z.a.Item,null,r.a.createElement(y,null))))))},D=function(){return r.a.createElement(N.a,{inverted:!0,borderless:!0,fluid:!0},r.a.createElement(N.a.Menu,{position:"left"},r.a.createElement(N.a.Item,{as:d.b,to:"/"},r.a.createElement(S.a,{name:"home",size:"big"}))),r.a.createElement(N.a.Menu,{position:"right"},r.a.createElement(N.a.Item,{as:d.b,to:"/signin"},r.a.createElement(S.a,{name:"user",size:"big"}))))},P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.Consumer,null,(function(e){return e?r.a.createElement(j,{user:e}):r.a.createElement(D,null)})))},A=a(541),M=a(524),R=a(537),L=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A.a,{minwidth:768},r.a.createElement("div",{className:"masthead masthead-home"},r.a.createElement("div",{className:"overlay-home"},r.a.createElement(M.a,null,r.a.createElement(R.a,{as:"h1",className:"mastead-title"},"CARAS"))))))}}]),t}(n.Component),F=a(32),T=a(44),H=a(538),G=a(528),B=a(539),V=a(516),W={name:"",lastName:"",companyName:"",email:"",username:"",passwordOne:"",passwordTwo:"",passcode:"",error:null},q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.name,r=t.lastName,l=t.companyName,s=t.email,c=t.username,o=t.passwordOne,i=t.passcode;a.props.firebase.verifyOrganizationPasscode(l,i).then((function(e){-1==e?alert("Unable to process the organization. Try a different organization name or passcode"):a.props.firebase.changeOrganizationPasscode(l,i).then((function(){a.props.firebase.doCreateUserWithEmailAndPassword(s,o).then((function(e){return a.props.firebase.user(e.user.uid).set({name:n,lastName:r,companyName:l,email:s,username:c})})).then((function(){a.setState(Object(T.a)({},W)),a.props.history.push(k)})).catch((function(e){a.setState({error:e})}))}))})),e.preventDefault()},a.onChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.state=Object(T.a)({},W),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.lastName,n=e.companyName,l=e.email,s=e.username,c=e.passcode,o=e.passwordOne,i=e.passwordTwo,u=e.error,m=o!==i||""===o||""===l||""===s||""===c||""===t||""===a||""===n;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{as:"h2",color:"teal",textAlign:"center"},"Sign Up"),r.a.createElement(G.a,{size:"large",onSubmit:this.onSubmit},r.a.createElement(B.a,{fluid:!0,stacked:!0},r.a.createElement(G.a.Group,null,r.a.createElement(G.a.Input,{name:"name",label:"First Name",value:t,type:"text",onChange:this.onChange}),r.a.createElement(G.a.Input,{name:"lastName",label:"Last Name",value:a,type:"text",onChange:this.onChange})),r.a.createElement(G.a.Input,{name:"companyName",label:"Company",icon:"building",value:n,type:"text",onChange:this.onChange,iconPosition:"left"}),r.a.createElement(G.a.Input,{name:"username",label:"Username",icon:"user",value:s,type:"text",onChange:this.onChange,iconPosition:"left",placeholder:"username"}),r.a.createElement(G.a.Input,{label:"Email",name:"email",icon:"mail",value:l,type:"text",onChange:this.onChange,iconPosition:"left",placeholder:"email@host.com"}),r.a.createElement(G.a.Input,{icon:"lock",name:"passcode",label:"Passcode",value:c,iconPosition:"left",onChange:this.onChange,placeholder:"Passcode",type:"password"}),r.a.createElement(G.a.Input,{icon:"lock",name:"passwordOne",label:"Password",value:o,iconPosition:"left",onChange:this.onChange,placeholder:"Password",type:"password"}),r.a.createElement(G.a.Input,{icon:"lock",name:"passwordTwo",value:i,label:"Confirm Password",iconPosition:"left",onChange:this.onChange,placeholder:"Confirm Password",type:"password"})),r.a.createElement(V.a,{color:"teal",fluid:!0,disabled:m,type:"submit",size:"large"},"Sign Up"),u&&r.a.createElement("p",null,u.message)))}}]),t}(n.Component),_=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(d.b,{to:"/signup"},"Sign Up"))},Y=Object(O.a)(p.f,E)(q),J=function(){return r.a.createElement(H.a,{textAlign:"left",centered:!0},r.a.createElement(H.a.Column,{verticalAlign:"middle",width:"6"},r.a.createElement(Y,null)))},$={email:"",error:null},K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then((function(){a.setState(Object(T.a)({},$))})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.state=Object(T.a)({},$),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{as:"h2",color:"teal",textAlign:"center"},"Password Reset"),r.a.createElement(G.a,{size:"small",onSubmit:this.onSubmit},r.a.createElement(B.a,{stacked:!0},r.a.createElement(G.a.Input,{fuid:!0,name:"email",label:"Email",icon:"user",value:t,type:"text",onChange:this.onChange,iconPosition:"left",placeholder:"email@host.com"})),r.a.createElement(V.a,{color:"teal",fluid:!0,disabled:n,type:"submit",size:"large"},"Reset My Password"),a&&r.a.createElement("p",null,a.message)))}}]),t}(n.Component),Q=function(){return r.a.createElement("p",null,r.a.createElement(d.b,{to:"/pw-forget"},"Forgot Password?"))},X=function(){return r.a.createElement(H.a,{verticalAlign:"middle",textAlign:"center"},r.a.createElement(H.a.Column,{verticalAlign:"middle",style:{maxWidth:450}},r.a.createElement(Z,null)))},Z=E(K);function ee(e){var t=e.onChange,a=e.onSubmit,n=e.email,l=e.password,s=e.errors,c=e.isInvalid;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{as:"h2",color:"teal",textAlign:"center"},"Sign in"),r.a.createElement(G.a,{size:"small",onSubmit:a},r.a.createElement(B.a,{stacked:!0},r.a.createElement(G.a.Input,{fuid:!0,icon:"user",name:"email",type:"text",value:n,onChange:t,iconPosition:"left",placeholder:"email@host.com"}),r.a.createElement(G.a.Input,{fluid:"true",icon:"lock",name:"password",value:l,iconPosition:"left",onChange:t,placeholder:"password",type:"password"})),r.a.createElement(V.a,{color:"teal",fluid:!0,disabled:c,type:"submit",size:"large"},"Login"),s&&r.a.createElement("p",null,s.message)))}var te=a(533),ae={email:"",password:"",error:null},ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){console.log("On submit called");var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then((function(){a.setState(Object(T.a)({},ae)),a.props.history.push(k),console.log(k)})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.state=Object(T.a)({},ae),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,l=""===a||""===t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{onChange:this.onChange,onSubmit:this.onSubmit,email:t,password:a,errors:n,isInvalid:l}))}}]),t}(n.Component),re=Object(O.a)(p.f,E)(ne),le=function(){return r.a.createElement(H.a,{textAlign:"center",verticalAlign:"middle"},r.a.createElement(H.a.Column,{style:{maxWidth:450}},r.a.createElement(re,null),r.a.createElement(te.a,null,r.a.createElement(Q,null),r.a.createElement(_,null))))},se=a(69),ce=a(529),oe=a(526),ie=a(536),ue=a(527),me=a(532),de=[{key:"ma",value:"male",text:"Male"},{key:"fe",value:"female",text:"Female"}],pe=[{key:"1",text:"1",value:"1"},{key:"2",text:"2",value:"2"},{key:"3",text:"3",value:"3"},{key:"4",text:"4",value:"4"},{key:"5",text:"5",value:"5"}],he=a(152),Ee=function(e){return/^[\d]*$/.test(e)},fe=function(e){return/^[\w]{1,25}@[\w]+[(.com)]+/.test(e)},ve=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e,t){var n,r;return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.name,r=t.value,a.setState(Object(T.a)({},a.state.values,Object(F.a)({},n,r)));case 2:case"end":return e.stop()}}))},a.onSubmit=function(e){var t,n,r,l,s,c,o,i,u,m,d,p,h,E;return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.id,r=t.name,l=t.level,s=t.allowedUsers,c=t.notAllowedUsers,o=t.description,i=t.date,u=t.code,m=a.props,d=m.organization,p=m.updateEvents,h=m.closeModal,E=m.firebase,e.next=4,g.a.awrap(E.updateEvent(d,n,r,l,s,c,o,i,u));case 4:if(e.sent){e.next=8;break}return alert("Event could not be updated"),e.abrupt("return");case 8:p(),h();case 10:case"end":return e.stop()}}))},a.state={id:a.props.event.eventID,name:a.props.event.name,level:a.props.event.minimumLevel,allowedUsers:a.props.event.allowedUsers,notAllowedUsers:a.props.event.notAllowedUsers,description:a.props.event.description,date:a.props.event.eventDate,code:a.props.event.passcode},console.log(a.props.event),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.level,l=t.allowedUsers,s=t.notAllowedUsers,c=t.description,o=t.date,i=t.code,u=this.props.closeModal;return r.a.createElement(H.a,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(G.a,{onSubmit:this.onSubmit,size:"large"},r.a.createElement(G.a.Group,{widths:"equal"},r.a.createElement(G.a.Input,{fluid:!0,label:"Event Name",name:"name",type:"text",width:12,maxLength:"25",value:a,onChange:this.onChange}),r.a.createElement(G.a.Field,{content:r.a.createElement(he.a,{name:"date",label:"Start Date",placeholder:o,onChange:function(t,a){try{var n={name:a.name,value:a.value.toLocaleDateString()};e.onChange(t,n)}catch(l){var r={name:a.name,value:""};e.onChange(t,r)}}})})),r.a.createElement(G.a.Group,null,r.a.createElement(G.a.Select,{fluid:!0,label:"Level",name:"level",width:3,value:n,options:pe,onChange:this.onChange}),r.a.createElement(G.a.Input,{fluid:!0,label:"Allowed Users",name:"allowedUsers",type:"text",width:8,value:l,onChange:this.onChange}),r.a.createElement(G.a.Input,{fluid:!0,label:"Not Allowed Users",name:"notAllowedUsers",type:"text",width:8,value:s,onChange:this.onChange})),r.a.createElement(G.a.Group,{widths:"equal"},r.a.createElement(G.a.TextArea,{label:"Description",name:"description",type:"text",width:8,value:c,onChange:this.onChange})),r.a.createElement(G.a.Group,null,r.a.createElement(G.a.Input,{label:"Event Code",name:"code",type:"text",value:i,width:5,maxLength:"5",onChange:function(t,a){Ee(a.value)&&e.onChange(t,a)}})),r.a.createElement(V.a,{content:"Cancel",size:"large",color:"red",type:"button",icon:"cancel",labelPosition:"left",floated:"right",onClick:u}),r.a.createElement(V.a,{type:"submit",content:"Submit",size:"large",color:"green",icon:"check",labelPosition:"left",floated:"left"})))))}}]),t}(r.a.Component),ge=U((function(e){return!!e}))(E(ve)),be=a(114);function we(e){var t=e.event;console.log(t);var a=t.eventDate,n=t.description,l=t.name,s=t.passcode,c=t.eventID;return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{textAlign:"right"},r.a.createElement(H.a,null,r.a.createElement(H.a.Row,{columns:2},r.a.createElement(H.a.Column,{width:3,textAlign:"left",floated:"left"},r.a.createElement(R.a,{as:"h2",content:l})),r.a.createElement(H.a.Column,{width:12,floated:"right",textAlign:"right"},r.a.createElement(be.a,{icon:"hashtag",color:"blue",size:"large",content:s}),r.a.createElement(be.a,{icon:"calendar",color:"blue",size:"large",content:a})))),r.a.createElement(oe.a,null)),r.a.createElement(M.a,null,r.a.createElement("b",null,"Description"),r.a.createElement("p",null,n)),r.a.createElement(M.a,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,{floated:"right",textAlign:"right"},r.a.createElement(be.a,{icon:"keyboard",color:"blue",size:"large",content:c}))))))}function Ce(e){var t=e.event,a=e.organization,n=e.activateEvent,l=e.updateEvents,s=e.stopEvent,c=e.deleteEvent,o=e.openModal;console.log("Card Rendered");r.a.createElement("p",null,r.a.createElement(S.a,{name:"user"}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{fluid:!0,raised:!0},r.a.createElement(me.a.Content,null,r.a.createElement(V.a,{stackable:"true",color:t.active?"red":"blue",icon:t.active?"stop":"play",onClick:function(){t.active?s(a,t.eventID):n(a,t.eventID),l()},size:"medium",floated:"right"}),r.a.createElement(me.a.Header,null,t.name),r.a.createElement(me.a.Meta,null,"Created on ",t.eventDate," "),r.a.createElement(me.a.Description,null," ",t.description," ")),r.a.createElement(me.a.Content,{extra:!0,textAlign:"center"},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(V.a,{color:"blue",content:"View",icon:"eye",labelPosition:"left",onClick:o}),r.a.createElement(V.a,{color:"red",content:"Delete",icon:"trash",labelPosition:"left",onClick:function(){c(a,t.eventID),l()}})))))}function xe(e){var t=e.organization,a=e.addEvent,l=e.updateEvents,s=e.closeModal,c=Object(n.useState)(""),o=Object(se.a)(c,2),i=o[0],u=o[1],m=Object(n.useState)({id:"",name:"",code:"",active:!1,minimum_level:"",allowedUsers:"",notAllowedUsers:"",description:"",date:""}),d=Object(se.a)(m,2),p=d[0],h=d[1],E=Object(n.useState)(!0),f=Object(se.a)(E,2),v=f[0],b=f[1],w=p,C=v,x=function(e,t){w[e]=t,h(w),C=""===p.name||""===p.code||""===p.minimum_level||""===p.description||""===p.date,b(C)};return r.a.createElement(H.a,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(G.a,{onSubmit:function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.awrap(a(t,p.id,p.name,p.minimum_level,p.allowedUsers,p.notAllowedUsers,p.description,p.date,p.code));case 2:e.sent?(s("Create"),l()):alert("Event ID already in use. Verify if the event was already entered.");case 4:case"end":return e.stop()}}))}},r.a.createElement(G.a.Group,{widths:"equal"},r.a.createElement(G.a.Input,{label:"Event Name",name:"name",type:"text",width:4,maxLength:"25",onChange:function(e,t){x(t.name,t.value)}}),r.a.createElement(G.a.Input,{label:"Event Code",name:"code",type:"text",width:1,value:i,maxLength:"5",onChange:function(e,t){Ee(t.value)&&(u(t.value),x(t.name,t.value))}}),r.a.createElement(G.a.Input,{label:"Event ID",name:"id",type:"text",width:4,maxLength:"10",onChange:function(e,t){x(t.name,t.value)}})),r.a.createElement(G.a.Group,{widths:"equal"},r.a.createElement(G.a.TextArea,{label:"Description",name:"description",type:"text",width:2,onChange:function(e,t){x(t.name,t.value)}})),r.a.createElement(G.a.Group,{widths:"equal"},r.a.createElement(G.a.Dropdown,{label:"Minimum Level",name:"minimum_level",placeholder:"1 - 5",fluid:!0,selection:!0,options:[{key:"1",text:"1",value:"1"},{key:"2",text:"2",value:"2"},{key:"3",text:"3",value:"3"},{key:"4",text:"4",value:"4"},{key:"5",text:"5",value:"5"}],onChange:function(e,t){x(t.name,t.value)}}),r.a.createElement(G.a.Field,{content:r.a.createElement(he.a,{name:"date",label:"Start Date",onChange:function(e,t){try{var a=t.value.toLocaleDateString();x(t.name,a)}catch(n){x(t.name,"")}}})})),r.a.createElement(G.a.Group,{widths:"equal"},r.a.createElement(G.a.Input,{label:"Allowed Users",name:"allowedUsers",type:"text",onChange:function(e,t){x(t.name,t.value)}}),r.a.createElement(G.a.Input,{label:"Not Allowed Users",name:"notAllowedUsers",type:"text",onChange:function(e,t){x(t.name,t.value)}})),r.a.createElement(V.a,{content:"Cancel",size:"large",type:"button",color:"red",icon:"cancel",labelPosition:"left",floated:"right",onClick:function(){s("Create")}}),r.a.createElement(V.a,{type:"submit",disabled:v,content:"Submit",size:"large",color:"green",icon:"check",labelPosition:"left",floated:"left"})))))}function ye(e){var t=e.organization,a=e.events,l=e.addEvent,s=e.updateEvents,c=e.activateEvent,o=e.stopEvent,i=e.deleteEvent,u=Object(n.useState)(!1),m=Object(se.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(!1),E=Object(se.a)(h,2),f=E[0],v=E[1],g=Object(n.useState)(!1),b=Object(se.a)(g,2),w=b[0],C=b[1],x=Object(n.useState)({}),y=Object(se.a)(x,2),k=y[0],I=y[1],O=[],U=[];a&&a.forEach((function(e){e.active?O.push(e):U.push(e)}));var N=function(e){switch(e){case"View":v(!1);break;case"Edit":p(!1);break;case"Create":C(!1)}},z=function(e,t){switch(e){case"View":I(t),v(!0);break;case"Edit":I(t),p(!0);break;case"Create":C(!0)}},j=r.a.createElement(ce.a,{onClose:function(){N("Create")},open:w,size:"tiny",closeOnEscape:!0,closeOnDimmerClick:!1},r.a.createElement(ce.a.Header,{as:"h1"},"New Event"),r.a.createElement(ce.a.Content,null,r.a.createElement(xe,{organization:t,addEvent:l,updateEvents:s,closeModal:function(){N("Create")}}))),D=r.a.createElement(ce.a,{onClose:function(){N("Edit")},open:d,size:"tiny",closeOnEscape:!0,closeOnDimmerClick:!1},r.a.createElement(ce.a.Header,{as:"h1"},"Edit Event"),r.a.createElement(ce.a.Content,null,r.a.createElement(ge,{event:k,organization:t,updateEvents:s,closeModal:function(){N("Edit")}}))),P=r.a.createElement(ce.a,{open:f,onClose:function(){return N("view")},size:"tiny",closeOnEscape:!0,closeOnDimmerClick:!0},r.a.createElement(ce.a.Header,{as:"h1",content:"Event Detail View"}),r.a.createElement(ce.a.Content,null,r.a.createElement(we,{event:k})),r.a.createElement(ce.a.Actions,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(V.a,{content:"Close",color:"grey",size:"large",floated:"left",onClick:function(){return N("View")}}),r.a.createElement(V.a,{icon:"edit",labelPosition:"left",content:"Edit",size:"large",floated:"right",positive:!0,onClick:function(){z("Edit",k),N("View")}}))))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Row,null,r.a.createElement(R.a,{as:"h1"},"Event Panel")),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(V.a,{content:"Add Event",color:"green",icon:"add",labelPosition:"left",floated:"right",onClick:function(){C(!0)}}))))),r.a.createElement(oe.a,{horizontal:!0},r.a.createElement(R.a,{as:"h2"},"Active Events")),r.a.createElement(M.a,null,r.a.createElement(H.a,{stackable:!0},r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(ie.a,{inverted:!0,active:0===a.length},r.a.createElement(ue.a,{content:"Loading...",size:"huge"})),0===O.length?r.a.createElement(B.a,{placeholder:!0},r.a.createElement(R.a,{icon:!0},r.a.createElement(S.a,{name:"calendar",size:"large"}),r.a.createElement("p",null,"There are currently no active events"))):r.a.createElement(me.a.Group,{centered:!0,itemsPerRow:3},O&&O.map((function(e,a){return r.a.createElement(Ce,{event:e,key:a,organization:t,updateEvents:s,activateEvent:c,stopEvent:o,deleteEvent:i,openModal:function(){return z("View",e)}})}))))))),r.a.createElement(oe.a,{horizontal:!0},r.a.createElement(R.a,{as:"h2"},"Inactive Events")),r.a.createElement(M.a,null,r.a.createElement(H.a,{stackable:!0},r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(ie.a,{active:0===a.length,inverted:!0},r.a.createElement(ue.a,{content:"Loading...",size:"huge"})),0===U.length?r.a.createElement(B.a,{placeholder:!0},r.a.createElement(R.a,{icon:!0},r.a.createElement(S.a,{name:"calendar",size:"large"}),r.a.createElement("p",null,"There are currently no active events"))):r.a.createElement(me.a.Group,{centered:!0,itemsPerRow:3},U&&U.map((function(e,a){return r.a.createElement(Ce,{event:e,key:a,organization:t,updateEvents:s,activateEvent:c,deleteEvent:i,openModal:function(){return z("View",e)}})}))))))),j,D,P)}var ke=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={organization:"",addEvent:null,events:[],updateEvents:null,activateEvent:null,stopEvent:null,deleteEvent:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,r,l,s,c=this;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,g.a.awrap(this.props.firebase.getOrganization());case 2:return e=o.sent,o.next=5,g.a.awrap(this.props.firebase.getEventsPreview(e));case 5:t=o.sent,a=this.props.firebase.addEvent,n=this.props.firebase.activateEvent,r=this.props.firebase.stopEvent,l=this.props.firebase.deleteEvent,s=function(){var e;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.awrap(c.props.firebase.getEventsPreview(c.state.organization));case 2:e=t.sent,c.setState({events:e});case 4:case"end":return t.stop()}}))},this.setState({organization:e,events:t,addEvent:a,updateEvents:s,activateEvent:n,stopEvent:r,deleteEvent:l});case 12:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.organization,a=e.events,n=e.addEvent,l=e.updateEvents,s=e.activateEvent,c=e.stopEvent,o=e.deleteEvent;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,{events:a,organization:t,addEvent:n,updateEvents:l,activateEvent:s,stopEvent:c,deleteEvent:o}))}}]),t}(n.Component),Ie=U((function(e){return!!e}))(ke),Oe=a(525),Ue={passwordOne:"",passwordTwo:"",error:null},Ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.passwordOne;a.props.firebase.doPasswordUpdate(t).then((function(){a.setState(Object(T.a)({},Ue))})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.state=Object(T.a)({},Ue),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this.state,a=t.passwordOne,n=t.passwordTwo,l=t.error,s=a!==n||""===a;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(Oe.a,(e={placeholder:"Search...",name:"passwordOne",value:a,onChange:this.onChange,type:"password"},Object(F.a)(e,"placeholder","New Password"),Object(F.a)(e,"style",{width:"100%"}),e)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Oe.a,{name:"passwordTwo",value:n,onChange:this.onChange,type:"password",placeholder:"Confirm New Password",style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(V.a,{positive:!0,disabled:s,type:"submit",style:{width:"100%"}},"Reset My Password"),l&&r.a.createElement("div",{className:"ui negative message"},r.a.createElement("div",{className:"header"},"Error"),r.a.createElement("p",null,l.message)))}}]),t}(n.Component),ze=E(Ne),Se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={organization:"",email:"",registeredUser:"",userName:"",organizationPasscode:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.awrap(this.props.firebase.getOrganizationInformation());case 2:e=t.sent,this.setState({organization:e.companyName,email:e.email,userFirstName:e.name,userLastName:e.lastName,userName:e.username,deleteModal:!1,passcodeModal:!1,passwordModal:!1,passcodeChanged:!1});case 4:case"end":return t.stop()}}),null,this)}},{key:"showDeleteModal",value:function(e){this.setState({deleteModal:e})}},{key:"deleteOrganization",value:function(){this.showDeleteModal(!1),this.props.firebase.deleteOrganizationData(this.state.organization),alert("Deleted")}},{key:"changePasscode",value:function(){var e=document.getElementById("passcodeForm").value;null!=e&&0!=e.length?(this.props.firebase.changeOrganizationPasscode(this.state.organization,e),alert("Passcode changed!"),document.getElementById("passcodeForm").value=""):alert("You need to enter a passcode!")}},{key:"changePasscodeModal",value:function(){this.setState({})}},{key:"render",value:function(){var e=this,t=this.state,a=t.organization,n=t.email,l=t.userFirstName,s=t.userLastName,c=t.userName,o=t.deleteModal,i=(t.passcodeModal,t.passwordModal,t.passcodeChanged);return r.a.createElement(I.Consumer,null,(function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{horizontal:!0,size:"huge"},r.a.createElement("h1",null," ",a," ")),r.a.createElement("div",null,r.a.createElement(R.a,{as:"h2",icon:!0,textAlign:"center"},r.a.createElement(S.a,{name:"users",circular:!0}),r.a.createElement(R.a.Content,null,c),r.a.createElement(R.a.Content,null,n),r.a.createElement(R.a.Content,null,s+", "+l))),r.a.createElement("br",null),r.a.createElement(M.a,null,r.a.createElement(H.a,{stackable:!0},r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(me.a.Group,{centered:!0,itemsPerRow:3},r.a.createElement(me.a.Group,null,r.a.createElement(me.a,null,r.a.createElement(me.a.Content,null,r.a.createElement(me.a.Header,null,"Delete Data"),r.a.createElement("br",null),r.a.createElement(me.a.Description,null,"Deletes all the data stored about the organization")),r.a.createElement(ce.a,{size:"small",open:o},r.a.createElement(ce.a.Header,null,"Delete Organization Data"),r.a.createElement(ce.a.Content,null,r.a.createElement("p",null,"Are you sure you want to delete the data of ",r.a.createElement("strong",null,a),"? (There is no way to recover the data in the future)")),r.a.createElement(ce.a.Actions,null,r.a.createElement(V.a,{negative:!0,onClick:function(){return e.showDeleteModal(!1)}},"No"),r.a.createElement(V.a,{onClick:function(){return e.deleteOrganization()},positive:!0,icon:"checkmark",labelPosition:"right",content:"Yes"}))),r.a.createElement(V.a,{negative:!0,onClick:function(){return e.showDeleteModal(!0)}},r.a.createElement(S.a,{name:"trash alternate outline"}),"Delete")),r.a.createElement(me.a,null,r.a.createElement(me.a.Content,null,r.a.createElement(me.a.Header,null,"Change Passcode"),r.a.createElement("br",null),r.a.createElement(me.a.Description,null,"Replace the current organization passcode. It affects admin users.")),r.a.createElement(ce.a,{size:"tiny",trigger:r.a.createElement(V.a,{color:"blue",onClick:function(){return e.changePasscodeModal()}},r.a.createElement(S.a,{name:"th"}),"Change Passcode")},r.a.createElement(ce.a.Header,null,"Change ",a," passcode"),r.a.createElement(ce.a.Content,null,r.a.createElement(ce.a.Description,null,r.a.createElement("div",{className:"ui one column stackable center aligned page grid"},r.a.createElement("div",{className:"column wide"},r.a.createElement("div",{className:"ui action input "},r.a.createElement("input",{type:"password",id:"passcodeForm"}),r.a.createElement("button",{className:"ui green center button",onClick:function(){return e.changePasscode()}},"Change Passcode")),i&&r.a.createElement("div",{className:"ui positive message"},r.a.createElement("div",{className:"header"}),r.a.createElement("p",null," The passcode was changed!")))))))),r.a.createElement(me.a,null,r.a.createElement(me.a.Content,null,r.a.createElement(me.a.Header,null,"Change User Password"),r.a.createElement("br",null),r.a.createElement(me.a.Description,null,"Replace password for user ",r.a.createElement("strong",null,c))),r.a.createElement(ce.a,{size:"mini",trigger:r.a.createElement(V.a,{color:"teal"},r.a.createElement(S.a,{name:"asterisk"}),"Change Password")},r.a.createElement(ce.a.Header,null,"Change ",n," password"),r.a.createElement(ce.a.Content,{image:!0},r.a.createElement(ce.a.Description,{style:{width:"100px"}},r.a.createElement(ze,null))))))))))))}))}}]),t}(n.Component),je=U((function(e){return!!e}))(Se),De=(a(186),a(30)),Pe=(a(187),a(112)),Ae=a.n(Pe),Me=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleTakePhoto=function(e){var t,n,r,l,s,c,o;return g.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=a.props.children,n=t.organization,r=t.userID,l=[],a.setState({loading:!0}),0!==a.state.remainingPhotos){i.next=5;break}return i.abrupt("return");case 5:return i.next=7,g.a.awrap(fetch(e).then((function(e){return e.blob()})));case 7:return s=i.sent,i.next=10,g.a.awrap(De.c(s));case 10:return c=i.sent,i.next=13,g.a.awrap(De.d(c).withFaceLandmarks().withFaceDescriptors());case 13:if(0===(o=i.sent).length?l.push("No face detected. Please try again."):o.length>1&&l.push("Multiple faces detected. Please try again."),0!==l.length){i.next=19;break}return i.next=18,g.a.awrap(a.props.firebase.insertDescriptor(n,r,o[0].descriptor));case 18:a.setState({remainingPhotos:a.state.remainingPhotos-1});case 19:a.setState({errors:l}),a.setState({loading:!1});case 21:case"end":return i.stop()}}))},a.onClick=function(e){var t,n,r;return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.children,n=t.closeModal,r=t.updateUsers,n(),void 0!==r&&r();case 3:case"end":return e.stop()}}))},a.state={loading:!1,remainingPhotos:5,errors:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.remainingPhotos,n=t.loading,l=t.errors;return Promise.all([De.e.faceRecognitionNet.loadFromUri("/models"),De.e.faceLandmark68Net.loadFromUri("/models"),De.e.ssdMobilenetv1.loadFromUri("/models")]),r.a.createElement(H.a,{centered:!0,container:!0},r.a.createElement(H.a.Row,{centered:!0,textAlign:"center"},r.a.createElement(H.a.Column,{verticalAlign:"middle",textAlign:"left"},r.a.createElement(R.a,{as:"h1"},r.a.createElement("span",null,r.a.createElement(S.a,{name:"camera",size:"large"})," "),"Take Pictures"),r.a.createElement(oe.a,null),r.a.createElement(te.a,{color:"red",hidden:0===l.length,header:"Processing Error",list:l}),0===a?"":r.a.createElement(M.a,{textAlign:"center"},r.a.createElement(be.a,{color:"blue",size:"huge",icon:"picture",detail:"Pictures Remaining",content:a})))),r.a.createElement(H.a.Row,{centered:!0},r.a.createElement(H.a.Column,{stretched:!0},r.a.createElement(ie.a,{active:n},r.a.createElement(ue.a,{content:"Processing Image...",size:"huge"})),r.a.createElement(Ae.a,{onTakePhoto:function(t){e.handleTakePhoto(t)},isSilentMode:!0}),r.a.createElement(te.a,{size:"mini",positive:!0,hidden:0!==a},r.a.createElement(M.a,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,{verticalAlign:"middle"},r.a.createElement(R.a,{as:"h2"},"Completed!"),r.a.createElement(V.a,{positive:!0,floated:"right",size:"large",content:"Done",onClick:this.onClick})))))))))}}]),t}(n.Component),Re=E(Me),Le=(a(263),new Array),Fe=[],Te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(){var e,t,n,r,l,s,c;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:a.setState({loading:!0}),e=0,t=a.state.images,n=a.props.children,r=n.closeModal,l=n.updateUsers,s=0;case 5:if(!(s<t.length)){o.next=14;break}return o.next=8,g.a.awrap(a.handlePhoto(t[s],s));case 8:(c=o.sent)&&e++,Fe.push(c);case 11:s++,o.next=5;break;case 14:0===e?Fe.push("You need to upload at least one valid picture"):(alert("Images processed correctly"),r(),void 0!==l&&l()),a.setState({loading:!1}),a.setState({errors:Fe});case 17:case"end":return o.stop()}}))},a.handlePhoto=function(e,t){var n,r,l,s,c,o;return g.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,g.a.awrap(De.c(e));case 2:return n=i.sent,i.next=5,g.a.awrap(De.d(n).withFaceLandmarks().withFaceDescriptors());case 5:if(r=i.sent,l=a.props.children,s=l.organization,c=l.userID,o=a.props.firebase,0!==r.length){i.next=11;break}return Fe.push("No face detected on the image "+e.name+" - "+t),i.abrupt("return",!1);case 11:if(!(r.length>1)){i.next=14;break}return Fe.push("More than one face detected on the image "+e.name+" - "+t),i.abrupt("return",!1);case 14:return i.next=16,g.a.awrap(o.insertDescriptor(s,c,r[0].descriptor));case 16:return i.abrupt("return",!0);case 17:case"end":return i.stop()}}))},a.state={images:[],loading:!1,errors:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=5===this.state.images.length,a=0===this.state.errors.length;console.log(t+" "+a),console.log(t&&a),Promise.all([De.e.faceRecognitionNet.loadFromUri("/models"),De.e.faceLandmark68Net.loadFromUri("/models"),De.e.ssdMobilenetv1.loadFromUri("/models")]);var n=this.state.loading;return(r.a.createElement(H.a,{centered:!0,container:!0},r.a.createElement(H.a.Row,{centered:!0,textAlign:"center"},r.a.createElement(H.a.Column,{verticalAlign:"middle",textAlign:"left"},r.a.createElement(R.a,{as:"h1"},r.a.createElement("span",null,r.a.createElement(S.a,{name:"file",size:"large"})," "),"Upload Pictures"),r.a.createElement(oe.a,null),r.a.createElement(te.a,{size:"large",positive:!0,hidden:!(a&&t),content:"Images processed sucessfully!"}))),r.a.createElement(H.a.Row,{centered:!0},r.a.createElement(ie.a,{active:n,inverted:!0},r.a.createElement(ue.a,{content:"Analyzing Images. This might take a while...",size:"huge"})),r.a.createElement(G.a,{onSubmit:this.onSubmit},r.a.createElement(G.a.Input,{type:"file",name:"0",multiple:!0,accept:"image/jpeg, image/png",onChange:function(t,a){Le[a.name]=t.target.files[0],e.setState({images:Le})}}),r.a.createElement(G.a.Input,{type:"file",name:"1",accept:"image/jpeg, image/png",onChange:function(t,a){Le[1]=t.target.files[0],e.setState({images:Le})}}),r.a.createElement(G.a.Input,{type:"file",name:"2",accept:"image/jpeg, image/png",onChange:function(t,a){Le[2]=t.target.files[0],e.setState({images:Le})}}),r.a.createElement(G.a.Input,{type:"file",name:"3",accept:"image/jpeg, image/png",onChange:function(t,a){Le[3]=t.target.files[0],e.setState({images:Le})}}),r.a.createElement(G.a.Input,{type:"file",name:"4",accept:"image/jpeg, image/png",onChange:function(t,a){Le[4]=t.target.files[0],e.setState({images:Le})}}),r.a.createElement(te.a,{color:"red",hidden:0===Fe.length,header:"Errors Encountered:",list:Fe}),r.a.createElement(V.a,{type:"submit",icon:"upload",labelPosition:"right",content:"Upload",primary:!0,disabled:!t})))))}}]),t}(n.Component),He=E(Te),Ge={userID:"",firstName:"",lastName:"",email:"",level:"",gender:"",age:""},Be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){var t,n,r,l,s,c,o,i,u,m;return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.user,n=t.userID,r=t.firstName,l=t.lastName,s=t.email,c=t.level,o=t.gender,i=t.age,u=a.state.organization,m=[],fe(s)||m.push("Email must be a valid email."),a.setState({errors:m}),0!==m.length){e.next=10;break}return e.next=8,g.a.awrap(a.props.firebase.addUser(u,n,r,l,s,c,o,i));case 8:e.sent?a.setState({viewConfirmationImageModal:!0}):(m.push("User ID already exists"),a.setState({errors:m}));case 10:case"end":return e.stop()}}))},a.onChange=function(e,t){var n=t.name,r=t.value;Ge[n]=r,a.setState({user:Ge})},a.closeModal=function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.awrap(a.setState({viewImageModal:!1}));case 2:return e.next=4,g.a.awrap(a.props.closeModal("Create"));case 4:case"end":return e.stop()}}))},a.state={viewImageModal:!1,viewConfirmationImageModal:!1,answer:!1,recognizer:"",organization:a.props.children.organization,user:{userID:"",firstName:"",lastName:"",email:"",level:"",gender:"",age:""},errors:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.user,a=t.userID,n=t.firstName,l=t.lastName,s=t.email,c=t.age,o=t.gender,i=t.level,u=this.state,m=u.organization,d=u.viewConfirmationImageModal,p=u.viewImageModal,h=u.recognizer,E=u.errors,f=this.props.closeModal,v=""===a||""===n||""===l||""===s||""===o||""===i||""===c;return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(G.a,{noValidate:!0,onSubmit:this.onSubmit,size:"large"},r.a.createElement(G.a.Group,{width:"equal"},r.a.createElement(G.a.Input,{fluid:!0,label:"First Name",name:"firstName",type:"text",width:8,maxLength:"25",value:n,onChange:this.onChange}),r.a.createElement(G.a.Input,{fluid:!0,label:"Last Name",name:"lastName",type:"text",width:8,maxLength:"25",value:l,onChange:this.onChange}),r.a.createElement(G.a.Select,{fluid:!0,label:"Level",name:"level",width:3,options:pe,onChange:this.onChange})),r.a.createElement(G.a.Group,{widths:"equal"},r.a.createElement(G.a.Input,{fluid:!0,label:"User ID",name:"userID",type:"text",width:4,maxLength:"15",value:a,onChange:function(t,a){var n=t.param;(function(e){return/^[A-Za-z0-9]+$/.test(e)}(a.value)||""===a.value)&&e.onChange(n,a)}}),r.a.createElement(G.a.Select,{fluid:!0,label:"Gender",name:"gender",width:2,options:de,onChange:this.onChange}),r.a.createElement(G.a.Input,{fluid:!0,label:"Age",name:"age",type:"text",value:c,maxLength:"2",width:2,onChange:function(t,a){var n=t.param;Ee(a.value)&&e.onChange(n,a)}})),r.a.createElement(G.a.Group,{widths:"equal"},r.a.createElement(G.a.Input,{fluid:!0,label:"Email",name:"email",type:"text",width:8,maxLength:"40",value:s,onChange:this.onChange})),r.a.createElement(te.a,{color:"red",hidden:0===E.length,header:"Invalid Form Fields:",list:E}),r.a.createElement(V.a,{content:"Cancel",size:"large",color:"red",type:"button",icon:"cancel",labelPosition:"left",floated:"right",onClick:function(){Ge={userID:"",firstName:"",lastName:"",email:"",level:"",gender:"",age:""},e.setState(Ge),e.props.closeModal("Create")}}),r.a.createElement(V.a,{type:"submit",content:"Submit",disabled:v,size:"large",color:"green",icon:"check",labelPosition:"left",floated:"left"}))))),r.a.createElement(ce.a,{size:"tiny",closeOnDimmerClick:!1,open:d},r.a.createElement(ce.a.Header,null,"Required Images"),r.a.createElement(ce.a.Content,null,r.a.createElement(ce.a.Description,null,r.a.createElement("p",null," To complete this user's profile, we need a set of pictures for our AI to identify this user upon check in. These pictures are securely stored in our database and will not be shared."),r.a.createElement("p",null," How would you like to provide these pictures?"))),r.a.createElement(ce.a.Actions,null,r.a.createElement(H.a,{stackable:!1},r.a.createElement(H.a.Row,{columns:1},r.a.createElement(H.a.Column,null,r.a.createElement(V.a,{primary:!0,icon:"camera",labelPosition:"left",floated:"left",content:"Take Pictures",onClick:function(){e.setState({answer:!0}),e.setState({recognizer:r.a.createElement(Re,{children:{updateUsers:e.props.userUpdate,organization:m,userID:a,closeModal:e.closeModal}})}),e.setState({viewConfirmationImageModal:!1}),e.setState({viewImageModal:!0})}}),r.a.createElement(V.a,{primary:!0,icon:"image file",labelPosition:"left",floated:"right",content:"Upload Files",onClick:function(){e.setState({answer:!1}),e.setState({recognizer:r.a.createElement(He,{children:{updateUsers:e.props.userUpdate,organization:m,userID:a,closeModal:e.closeModal}})}),e.setState({viewConfirmationImageModal:!1}),e.setState({viewImageModal:!0})}})))))),r.a.createElement(ce.a,{size:"small",open:p,onClose:function(){return f("Create")},closeOnDimmerClick:!1},r.a.createElement(ce.a.Content,{content:h})))}}]),t}(n.Component),Ve=U((function(e){return!!e}))(E(Be)),We=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={recognizer:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"addEventClick",value:function(){var e,t,a,n,r,l,s,c,o,i;return g.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e=document.getElementById("eventID").value,t=document.getElementById("eventName").value,a=document.getElementById("minimumLevel").value,n=document.getElementById("allowedUsers").value,r=document.getElementById("notAllowedUsers").value,l=document.getElementById("description").value,s=document.getElementById("eventDate").value,c=document.getElementById("passcode").value,o="All fields must be filled. Please enter a value for: ",""===e&&(o+=" eventID"),""===t&&(o+=" Event Name"),""===a&&(o+=" Minimum Level"),""===l&&(o+=" Description"),""===s&&(o+=" Event Date"),""===c&&(o+=" Pass Code"),"All fields must be filled. Please enter a value for: "===o){u.next=18;break}return alert(o),u.abrupt("return");case 18:return i=this.props.children.organization,u.next=21,g.a.awrap(this.props.firebase.addEvent(i,e,t,a,n,r,l,s,c));case 21:u.sent||alert("Event ID already in use. Verify if the event was already entered."),this.props.eventUpdate();case 24:case"end":return u.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"NEW EVENT"),r.a.createElement("div",null,r.a.createElement("p",null,"Event ID:"),r.a.createElement("input",{id:"eventID"}),r.a.createElement("p",null,"Event Name:"),r.a.createElement("input",{id:"eventName"}),r.a.createElement("p",null,"Minimum Level:"),r.a.createElement("input",{id:"minimumLevel"}),r.a.createElement("p",null,"Allowed Employees ID:"),r.a.createElement("input",{id:"allowedUsers"}),r.a.createElement("p",null,"Not Allowed Employees ID:"),r.a.createElement("input",{id:"notAllowedUsers"}),r.a.createElement("p",null,"Description:"),r.a.createElement("input",{id:"description"}),r.a.createElement("p",null,"Pass Code:"),r.a.createElement("input",{id:"passcode"}),r.a.createElement("p",null,"Event Date:"),r.a.createElement("input",{id:"eventDate"}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.addEventClick()}},"Insert Event")))}}]),t}(n.Component),qe=U((function(e){return!!e}))(E(We)),_e=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={organization:"",users:[],events:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(this.props.firebase.getOrganization());case 2:return e=n.sent,n.next=5,g.a.awrap(this.props.firebase.getUsersPreview(e));case 5:return t=n.sent,n.next=8,g.a.awrap(this.props.firebase.getEventsPreview(e));case 8:a=n.sent,this.setState({organization:e,users:t,events:a});case 10:case"end":return n.stop()}}),null,this)}},{key:"updateEvent",value:function(){var e;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.awrap(this.props.firebase.getEventsPreview(this.state.organization));case 2:e=t.sent,this.setState({events:e});case 4:case"end":return t.stop()}}),null,this)}},{key:"updateUser",value:function(){var e;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.awrap(this.props.firebase.getUsersPreview(this.state.organization));case 2:e=t.sent,this.setState({users:e});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.organization,a=e.users,n=e.events;return r.a.createElement("div",null,r.a.createElement("h1",null,"Admin"),r.a.createElement("p",null,"Upload file"),r.a.createElement("p",null,"Add User"),r.a.createElement(Ve,{children:{organization:t},userUpdate:this.updateUser.bind(this)}),r.a.createElement("p",null,"Add Event"),r.a.createElement(qe,{children:{organization:t},eventUpdate:this.updateEvent.bind(this)}),r.a.createElement("br",null),r.a.createElement("h2",null,"USER LIST"),r.a.createElement(Ye,{users:a}),r.a.createElement("br",null),r.a.createElement("h2",null,"EVENT LIST"),r.a.createElement(Je,{events:n}))}}]),t}(n.Component),Ye=function(e){var t=e.users;return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("div",null,r.a.createElement("h3",null," ",e.email," "),r.a.createElement("p",null," ",e.firstName," ",e.lastName," "),r.a.createElement("p",null," Level: ",e.level," "))})))},Je=function(e){var t=e.events;return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("div",null,r.a.createElement("h3",null," ",e.eventID," "),r.a.createElement("p",null," Name: ",e.name," "),r.a.createElement("p",null," Date: ",e.eventDate," "),r.a.createElement("p",null," Min Level: ",e.minimumLevel," "),r.a.createElement("p",null," Status: ",e.active," "))})))},$e=(U((function(e){return!!e}))(_e),a(78)),Ke=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).stopLoading=function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!1});case 1:case"end":return e.stop()}}))},a.hideFeedback=function(){a.setState({feedbackHide:!0})},a.showFeedback=function(e){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:"AUTHENTICATION CORRECT"===e?a.setState({feedbackHide:!1,feedbackColor:"green",feedbackHeader:"Authentication succeed"}):"AUTHENTICATION FAILED"===e?a.setState({feedbackHide:!1,feedbackColor:"red",feedbackHeader:"Authentication failed"}):e.includes("ALERT")?a.setState({feedbackHide:!1,feedbackColor:"yellow",feedbackHeader:e}):e.includes("ERROR")?a.setState({feedbackHide:!1,feedbackColor:"red",feedbackHeader:e}):"PLEASE TRY AGAIN"===e?a.setState({feedbackHide:!1,feedbackColor:"yellow",feedbackHeader:"Please try again"}):a.setState({feedbackHide:!1,feedbackColor:"yellow",feedbackHeader:e}),t=Object($e.a)(a),setInterval((function(){t.hideFeedback()}),5e3);case 3:case"end":return n.stop()}}))},a.state={loading:!1,feedbackHide:!0,feedbackColor:"",feedbackHeader:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.children.organization,a=this.props.children.event,n=this.stopLoading,l=this.showFeedback,s=this.props.firebase;function c(e){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(s.getDescriptors(t,e));case 2:if(0!=(a=n.sent).length){n.next=5;break}return n.abrupt("return",null);case 5:return n.abrupt("return",new De.b(e,a));case 6:case"end":return n.stop()}}))}function o(e,r){var c,o,u,m,d,p,h,E,f,v;return g.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,g.a.awrap(s.getAllUsersDescriptions(t));case 2:c=b.sent,0,o=-1,u=0,m=0,d=0,p=function(){var t,a,n,l,s,i,p,E,f,v;return g.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(!(null===(t=c[h]).descriptors||t.descriptors.length<=0)){b.next=3;break}return b.abrupt("return","continue");case 3:return a=new De.b(t.userID,t.descriptors),b.next=6,g.a.awrap(new De.a(a,.6));case 6:return n=b.sent,l={width:e.width,height:e.height},b.next=10,g.a.awrap(De.f(r,l));case 10:return s=b.sent,i=s.map((function(e){return n.findBestMatch(e.descriptor)})),b.next=14,g.a.awrap(De.d(e).withAgeAndGender());case 14:p=b.sent,E=100*(1-i[0].distance),f=Math.abs(t.userInfo.age-p[0].age),v=p[0].gender==t.userInfo.sex,E>u&&(u=E,m=f,d=v,o=h);case 19:case"end":return b.stop()}}))},h=0;case 10:if(!(h<c.length)){b.next=19;break}return b.next=13,g.a.awrap(p());case 13:if("continue"!==b.sent){b.next=16;break}return b.abrupt("continue",16);case 16:h++,b.next=10;break;case 19:if(!(o<0)){b.next=23;break}return l("ERROR. Unable to locate user."),n(),b.abrupt("return");case 23:return E=c[o].userID,f=c[o].userInfo,b.next=27,g.a.awrap(s.getEventInformation(t,a));case 27:if(!(v=b.sent).notAllowedUsers.includes(E)){b.next=32;break}return l("ERROR. User not allowed"),n(),b.abrupt("return");case 32:if(!(v.minimumLevel>f.level)||v.allowedUsers.includes(E)){b.next=36;break}return l("ERROR. User not allowed"),n(),b.abrupt("return");case 36:return b.next=38,g.a.awrap(i(u,m,d,E,f));case 38:n();case 39:case"end":return b.stop()}}))}function i(e,r,c,o,i){var u,m;return g.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(u="","AUTHENTICATION CORRECT"==(u=r<7&&c?e>55?"AUTHENTICATION CORRECT":e>50?"PLEASE TRY AGAIN":"AUTHENTICATION FAILED":"AUTHENTICATION FAILED")){d.next=6;break}return l(u),n(),d.abrupt("return");case 6:return d.next=8,g.a.awrap(s.markUserAttendance(t,a,o));case 8:null!=(m=d.sent)&&(u="User "+i.firstName+" "+i.lastName+" already authenticated at "+new Date(m).toLocaleString()),l(u);case 11:case"end":return d.stop()}}))}return Promise.all([De.e.faceRecognitionNet.loadFromUri("/models"),De.e.faceLandmark68Net.loadFromUri("/models"),De.e.ssdMobilenetv1.loadFromUri("/models"),De.e.ageGenderNet.loadFromUri("/models"),De.e.tinyFaceDetector.loadFromUri("/models"),De.e.faceLandmark68TinyNet.loadFromUri("/models")]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui two column centered grid"},r.a.createElement("div",null,r.a.createElement(te.a,{color:this.state.feedbackColor,hidden:this.state.feedbackHide,header:this.state.feedbackHeader})),r.a.createElement("div",{class:"ui segment"},r.a.createElement(ie.a,{active:this.state.loading},r.a.createElement(ue.a,{content:"Processing Image...",size:"huge"})),r.a.createElement(Ae.a,{onTakePhoto:function(r){e.setState({loading:!0}),function(e){var r,u,m,d,p,h,E,f,v,b,w,C,x,y,k;g.a.async((function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,g.a.awrap(fetch(e).then((function(e){return e.blob()})));case 2:return r=I.sent,I.next=5,g.a.awrap(De.c(r));case 5:return u=I.sent,I.next=8,g.a.awrap(De.d(u).withFaceLandmarks().withFaceDescriptors());case 8:if(0!==(m=I.sent).length){I.next=13;break}return l("ERROR. No face detected. Please try again."),n(),I.abrupt("return");case 13:if(!(m.length>1)){I.next=17;break}return l("ERROR. Multiple faces detected. Please try again."),n(),I.abrupt("return");case 17:if(""!=(d=document.getElementById("userId").value)){I.next=24;break}return l("ALERT. No user ID detected. Process will take longer to detect user"),I.next=22,g.a.awrap(o(u,m));case 22:return n(),I.abrupt("return");case 24:return I.next=26,g.a.awrap(s.getUserInformation(t,d));case 26:if(null!=(p=I.sent)){I.next=31;break}return l("ERROR. Invalid user id"),n(),I.abrupt("return");case 31:return I.next=33,g.a.awrap(s.getEventInformation(t,a));case 33:if(!(h=I.sent).notAllowedUsers.includes(d)){I.next=38;break}return l("ERROR. User not allowed"),n(),I.abrupt("return");case 38:if(!(h.minimumLevel>p.level)||h.allowedUsers.includes(d)){I.next=42;break}return l("ERROR. User not allowed"),n(),I.abrupt("return");case 42:return I.next=44,g.a.awrap(c(d));case 44:if(null!=(E=I.sent)&&0!=E.length){I.next=49;break}return l("ERROR. Unable to process. Invalid user ID or user has no face descriptors stored"),n(),I.abrupt("return");case 49:return I.next=51,g.a.awrap(new De.a(E,.6));case 51:return f=I.sent,v={width:u.width,height:u.height},I.next=55,g.a.awrap(De.f(m,v));case 55:return b=I.sent,w=b.map((function(e){return f.findBestMatch(e.descriptor)})),I.next=59,g.a.awrap(De.d(u).withAgeAndGender());case 59:return C=I.sent,x=100*(1-w[0].distance),y=Math.abs(p.age-C[0].age),k=C[0].gender==p.sex,I.next=65,g.a.awrap(i(x,y,k,d,p));case 65:n();case 66:case"end":return I.stop()}}))}(r)},isSilentMode:!0})),r.a.createElement("div",{className:"four column centered row"},r.a.createElement("div",{className:"column"},r.a.createElement("img",null)),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("input",{type:"text",placeholder:"User ID",id:"userId"}),r.a.createElement("i",{className:"address card outline icon"}))),r.a.createElement("div",{className:"column"},r.a.createElement("img",null)))))}}]),t}(n.Component),Qe=E(Ke),Xe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={organization:"",event:"",facerecogition:"",showModal:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"hideModal",value:function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({organization:"",event:"",facerecogition:"",showModal:!1}),document.getElementById("organization").value="",document.getElementById("event").value="",document.getElementById("passcode").value="";case 4:case"end":return e.stop()}}),null,this)}},{key:"getAccess",value:function(){var e,t,a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=document.getElementById("organization").value).includes(".")){n.next=4;break}return alert("Invalid character in organization '.' "),n.abrupt("return");case 4:if(t=document.getElementById("event").value,a=document.getElementById("passcode").value,0!=e.length&&0!=t.length&&0!=a.length){n.next=9;break}return alert("Please fill out all the fields."),n.abrupt("return");case 9:return n.next=11,g.a.awrap(this.props.firebase.checkIfEventExist(e,t));case 11:if(!n.sent){n.next=22;break}return n.next=14,g.a.awrap(this.props.firebase.loginIntoEvent(e,t,a));case 14:if(!n.sent){n.next=18;break}this.setState({showModal:!0,organization:e,event:t}),n.next=20;break;case 18:return alert("Incorrect event id or passcode"),n.abrupt("return");case 20:n.next=24;break;case 22:return alert("Unable to locate event"),n.abrupt("return");case 24:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(oe.a,{horizontal:!0,size:"huge"},r.a.createElement("h1",{className:"ui image header"},r.a.createElement("div",{className:"content"},"Event Registration"))),r.a.createElement("div",{className:"ui vertically divided grid"},r.a.createElement("div",{className:"three column row"},r.a.createElement("div",{className:"column"},r.a.createElement("p",null)),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui middle aligned center aligned grid"},r.a.createElement("div",{className:"column"},r.a.createElement("form",{className:"ui large form"},r.a.createElement("div",{className:"ui stacked segment"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"building icon"}),r.a.createElement("input",{type:"text",name:"email",placeholder:"Organization ID",id:"organization"}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"users icon"}),r.a.createElement("input",{type:"text",name:"email",placeholder:"Event ID",id:"event"}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Event Passcode",id:"passcode"}))),r.a.createElement("div",{className:"ui fluid large blue submit button",onClick:function(){return e.getAccess()}},"Access Event"))),r.a.createElement("div",{className:"ui message"},"New to CARAS? ",r.a.createElement("a",{onClick:function(){return e.props.history.push("/signup")}},"Sign Up"))))),r.a.createElement("div",{className:"column"},r.a.createElement("p",null)))),r.a.createElement(ce.a,{size:"small",open:this.state.showModal},r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",{className:"ui two column very relaxed grid"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui"},r.a.createElement("h3",{className:"ui left floated header"},this.state.event))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui"},r.a.createElement("h3",{className:"ui right floated header"},this.state.organization)))),r.a.createElement("div",{className:"ui vertical divider"},"check in")),r.a.createElement(ce.a.Content,{className:""},r.a.createElement(Qe,{children:{organization:this.state.organization,event:this.state.event}})),r.a.createElement(ce.a.Content,null,r.a.createElement("button",{class:"fluid ui button red",onClick:function(){return e.hideModal()}},r.a.createElement(S.a,{name:"stop circle outline"}),"Stop"))))}}]),t}(n.Component),Ze=E(Xe),et=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e,t){var n,r;return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.name,r=t.value,a.setState(Object(T.a)({},a.state.values,Object(F.a)({},n,r)));case 2:case"end":return e.stop()}}))},a.onSubmit=function(e){var t,n,r,l,s,c,o,i,u,m,d,p,h,E;return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.userID,r=t.firstName,l=t.lastName,s=t.email,c=t.level,o=t.gender,i=t.age,u=a.props,m=u.organization,d=u.updateUsers,p=u.closeModal,h=u.firebase,E=[],fe(s)||E.push("Email must be a valid email."),0!==E.length){e.next=11;break}return e.next=7,g.a.awrap(h.updateUser(m,n,r,l,s,c,o,i));case 7:e.sent?(p(),d()):(E.push("Error updating user"),a.setState({errors:E})),e.next=12;break;case 11:a.setState({errors:E});case 12:case"end":return e.stop()}}))},a.onClick=function(e){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({descriptor:e}),a.setState({viewDescriptorModal:!0});case 2:case"end":return t.stop()}}))},a.closeModal=function(){a.setState({viewDescriptorModal:!1})},a.state={userID:e.user.userID,firstName:e.user.firstName,lastName:e.user.lastName,email:e.user.email,gender:e.user.sex,age:e.user.age,level:e.user.level,errors:[],descriptor:null,viewDescriptorModal:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.firstName,n=t.lastName,l=t.email,s=t.gender,c=t.age,o=t.level,i=t.errors,u=t.userID,m=t.viewDescriptorModal,d=t.descriptor,p=this.props.organization,h=r.a.createElement(Re,{children:{organization:p,userID:u,closeModal:this.closeModal}}),E=r.a.createElement(He,{children:{organization:p,userID:u,closeModal:this.closeModal}}),f=r.a.createElement(ce.a,{size:"tiny",open:m,onClose:function(){return e.closeModal()},closeOnDimmerClick:!0,closeOnEscape:!0},r.a.createElement(ce.a.Content,{content:d}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(G.a,{noValidate:!0,onSubmit:this.onSubmit,size:"large"},r.a.createElement(G.a.Group,{width:"equal"},r.a.createElement(G.a.Input,{fluid:!0,label:"First Name",name:"firstName",type:"text",width:8,maxLength:"25",value:a,onChange:this.onChange}),r.a.createElement(G.a.Input,{fluid:!0,label:"Last Name",name:"lastName",type:"text",width:8,maxLength:"25",value:n,onChange:this.onChange}),r.a.createElement(G.a.Select,{fluid:!0,label:"Level",name:"level",width:3,value:o,options:pe,onChange:this.onChange})),r.a.createElement(G.a.Group,{widths:"equal"},r.a.createElement(G.a.Input,{fluid:!0,label:"Email",name:"email",type:"text",width:8,maxLength:"40",value:l,onChange:this.onChange}),r.a.createElement(G.a.Select,{fluid:!0,label:"Gender",name:"gender",width:3,value:s,options:de,onChange:this.onChange}),r.a.createElement(G.a.Input,{fluid:!0,label:"Age",name:"age",type:"text",value:c,maxLength:"2",width:2,onChange:function(t,a){var n=t.param;Ee(a.value)&&e.onChange(n,a)}}))),r.a.createElement(V.a.Group,{compact:!0,fluid:!0,size:"small"},r.a.createElement(V.a,{color:"blue",content:"Add New Pictures",icon:"camera",labelPosition:"left",onClick:function(){e.onClick(h)}}),r.a.createElement(V.a.Or,null),r.a.createElement(V.a,{color:"blue",content:"Upload New Pictures",icon:"file",labelPosition:"right",onClick:function(){e.onClick(E)}})),r.a.createElement(te.a,{color:"red",size:"large",hidden:0===i.length,header:"Invalid Form Fields:",list:i}))),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(V.a,{type:"button",content:"Cancel",size:"large",color:"red",icon:"cancel",labelPosition:"left",floated:"right",onClick:function(){e.setState({}),e.props.closeModal("Edit")}}),r.a.createElement(V.a,{onClick:this.onSubmit,content:"Submit",size:"large",color:"green",icon:"check",labelPosition:"left",floated:"left"})))),f)}}]),t}(r.a.Component),tt=U((function(e){return!!e}))(E(et)),at=a(531),nt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).closeModal=function(e){switch(e){case"View":a.setState({viewUserModal:!1});break;case"Create":a.setState({viewCreateUserModal:!1});break;case"Edit":a.setState({viewEditUserModal:!1})}},a.openModal=function(e){switch(e){case"View":a.setState({viewUserModal:!0});break;case"Create":a.setState({viewCreateUserModal:!0});break;case"Edit":a.setState({viewEditUserModal:!0})}},a.state={organization:"",users:[],deleteUser:null,updateUsers:null,viewCreateUserModal:!1,viewUserModal:!1,viewEditUserModal:!1,selectedUser:{}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,r=this;return g.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,g.a.awrap(this.props.firebase.getOrganization());case 2:return e=l.sent,l.next=5,g.a.awrap(this.props.firebase.getUsersPreview(e));case 5:t=l.sent,this.props.firebase.addUser,a=this.props.firebase.deleteUser,n=function(){var e;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return r.setState({loading:!0}),t.next=3,g.a.awrap(r.props.firebase.getUsersPreview(r.state.organization));case 3:e=t.sent,r.setState({users:e}),r.setState({loading:!1});case 6:case"end":return t.stop()}}))},this.setState({organization:e,users:t,deleteUser:a,updateUsers:n,createUserModal:!1});case 10:case"end":return l.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=(t.loading,t.organization),n=t.users,l=t.deleteUser,s=t.updateUsers,c=t.viewEditUserModal,o=t.viewCreateUserModal,i=t.viewUserModal,u=t.selectedUser,m=r.a.createElement(ce.a,{closeIcon:!0,onClose:function(){return s()},open:o,size:"small",closeOnEscape:!0,closeOnDimmerClick:!1},r.a.createElement(ce.a.Header,{as:"h1",content:"New User"}),r.a.createElement(ce.a.Content,{content:r.a.createElement(Ve,{children:{organization:a},closeModal:this.closeModal,userUpdate:s})})),d=r.a.createElement(ce.a,{onClose:function(){return e.closeModal("Edit")},open:c,size:"tiny",closeOnEscape:!0,closeOnDimmerClick:!1},r.a.createElement(ce.a.Header,{as:"h1"},"Edit User"),r.a.createElement(ce.a.Content,null,r.a.createElement(tt,{user:u,organization:a,closeModal:function(){return e.closeModal("Edit")},updateUsers:s}))),p=r.a.createElement(ce.a,{open:i,onClose:function(){return e.closeModal("View")},size:"tiny",closeOnEscape:!0,closeOnDimmerClick:!0},r.a.createElement(ce.a.Header,{as:"h1",content:"User Profile"}),r.a.createElement(ce.a.Content,null,r.a.createElement(M.a,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(R.a,{textAlign:"center",as:"h1",icon:!0},r.a.createElement(S.a,{name:"user circle"}),u.firstName," ",u.lastName),r.a.createElement(at.a,{unstackable:!0,celled:!0,singleLine:!0,striped:!0,definition:!0},r.a.createElement(at.a.Body,null,r.a.createElement(at.a.Row,null,r.a.createElement(at.a.Cell,{width:4},"User ID:"),r.a.createElement(at.a.Cell,null,u.userID)),r.a.createElement(at.a.Row,null,r.a.createElement(at.a.Cell,null,"Level:"),r.a.createElement(at.a.Cell,null,u.level)),r.a.createElement(at.a.Row,null,r.a.createElement(at.a.Cell,null,"Gender:"),r.a.createElement(at.a.Cell,null,u.sex)),r.a.createElement(at.a.Row,null,r.a.createElement(at.a.Cell,null,"Age:"),r.a.createElement(at.a.Cell,null,u.age)),r.a.createElement(at.a.Row,null,r.a.createElement(at.a.Cell,null,"Email:"),r.a.createElement(at.a.Cell,null,u.email))))))))),r.a.createElement(ce.a.Actions,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(V.a,{content:"Close",color:"grey",size:"large",floated:"left",onClick:function(){return e.closeModal("View")}}),r.a.createElement(V.a,{icon:"edit",labelPosition:"left",content:"Edit",size:"large",floated:"right",positive:!0,onClick:function(){e.openModal("Edit"),e.closeModal("View")}}))))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,null,r.a.createElement(H.a,{columns:1},r.a.createElement(H.a.Row,null,r.a.createElement(R.a,{as:"h1"},"User Panel")),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(V.a,{content:"Add User",icon:"add",color:"green",labelPosition:"left",floated:"right",onClick:function(){e.openModal("Create")}}))))),r.a.createElement(oe.a,{horizontal:!0},r.a.createElement(R.a,{as:"h2"},a," Users ")),r.a.createElement(ie.a,{active:!n,inverted:!0},r.a.createElement(ue.a,null)),void 0===n||0===n.length?r.a.createElement(B.a,{placeholder:!0},r.a.createElement(R.a,{icon:!0},r.a.createElement(S.a,{name:"users",size:"large"}),r.a.createElement("p",null,"There are currently no users registered"))):r.a.createElement(M.a,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Column,null,r.a.createElement(at.a,{celled:!0,unstackable:!0},r.a.createElement(at.a.Header,null,r.a.createElement(at.a.Row,null,r.a.createElement(at.a.HeaderCell,null,"First Name "),r.a.createElement(at.a.HeaderCell,null,"Last Name  "),r.a.createElement(at.a.HeaderCell,null,"Level      "),r.a.createElement(at.a.HeaderCell,null,"View      "),r.a.createElement(at.a.HeaderCell,null,"Delete      "))),r.a.createElement(at.a.Body,null,n.map((function(t,n){return r.a.createElement(at.a.Row,{key:n},r.a.createElement(at.a.Cell,null,t.firstName),r.a.createElement(at.a.Cell,null,t.lastName),r.a.createElement(at.a.Cell,null,t.level),r.a.createElement(at.a.Cell,{collapsing:!0,textAlign:"center"},r.a.createElement(V.a,{color:"blue",icon:"info",onClick:function(){e.setState({selectedUser:t}),e.setState({viewUserModal:!0})}})),r.a.createElement(at.a.Cell,{collapsing:!0,textAlign:"center"},r.a.createElement(V.a,{color:"red",negative:!0,icon:"delete",onClick:function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:l(a,t.userID).then((function(){s()}));case 1:case"end":return e.stop()}}))}})))})))))))),m,p,d)}}]),t}(n.Component),rt=U((function(e){return!!e}))(nt),lt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={authUser:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(I.Provider,{value:this.state.authUser},r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(P,{authUser:this.state.authUser}),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:L}),r.a.createElement(p.a,{path:"/signup",component:J}),r.a.createElement(p.a,{path:"/signin",component:le}),r.a.createElement(p.a,{path:"/pw-forget",component:X}),r.a.createElement(p.a,{path:k,component:Ie}),r.a.createElement(p.a,{path:"/account",component:je}),r.a.createElement(p.a,{path:"/recognizer",component:Ze}),r.a.createElement(p.a,{path:"/newuser",component:Ve}),r.a.createElement(p.a,{path:"/userpanel",component:rt})))))}}]),t}(n.Component),st=E(lt);s.a.render(r.a.createElement(f.Provider,{value:new x},r.a.createElement(st,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[302,1,2]]]);
//# sourceMappingURL=main.18c97b3e.chunk.js.map